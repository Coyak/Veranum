<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestión de Habitaciones - Veranum</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-black flex flex-col">

  <!-- NAVBAR -->
  <div id="navbar"></div>

  <main class="flex-grow container mx-auto p-6">

    <!-- Header y botón Nuevo -->
    <header class="flex justify-between items-center mb-6">
      <h1 class="text-3xl font-bold text-white">Gestión de Habitaciones</h1>
      <button id="btn-new" class="px-6 py-3 rounded-lg font-semibold text-lg shadow transition border-2 border-black hover:opacity-90" style="background-color: #bfa14a; color: #222;">
        &#43; Nueva Habitación
      </button>
    </header>

    <!-- FORMULARIO OCULTO, se mostrará al hacer click en "+ Nueva Habitación" -->
    <div id="form-container" class="hidden bg-white bg-opacity-90 shadow-xl rounded-lg p-6 mb-6">
      <h2 id="form-title" class="text-xl font-semibold mb-4" style="color: #bfa14a;">Nueva Habitación</h2>
      <form id="habitacion-form" class="space-y-4">
        <div>
          <label for="form-hotel" class="block text-sm font-medium text-gray-700">Hotel</label>
          <select id="form-hotel" name="hotel_id"
                  class="mt-1 block w-full border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent" required>
            <option value="">Cargando hoteles…</option>
          </select>
        </div>
        <div>
          <label for="form-nombre" class="block text-sm font-medium text-gray-700">Nombre</label>
          <input id="form-nombre" name="nombre" type="text" required
                 class="mt-1 block w-full border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent">
        </div>
        <div>
          <label for="form-precio" class="block text-sm font-medium text-gray-700">Precio diario</label>
          <input id="form-precio" name="precio" type="number" step="0.01" required
                 class="mt-1 block w-full border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent">
        </div>
        <div class="flex justify-end space-x-2">
          <button type="button" id="form-cancel"
                  class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 text-gray-700">
            Cancelar
          </button>
          <button type="submit"
                  class="px-6 py-2 rounded-lg font-semibold shadow transition border-2 border-black hover:opacity-90" style="background-color: #bfa14a; color: #222;">
            Guardar
          </button>
        </div>
      </form>
    </div>

    <!-- TABLA DE HABITACIONES -->
    <main class="bg-white bg-opacity-90 rounded-lg shadow-xl overflow-hidden">
      <div class="overflow-x-auto">
        <table class="min-w-full">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">ID</th>
              <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Hotel</th>
              <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Nombre</th>
              <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Precio</th>
              <th class="px-6 py-3 text-center text-sm font-semibold text-gray-700">Acciones</th>
            </tr>
          </thead>
          <tbody id="habitacion-tbody" class="divide-y divide-gray-200"></tbody>
        </table>
      </div>
    </main>

  </main>

  <!-- SCRIPTS -->
  <script src="/app/js/api.js"></script>
  <script src="/app/js/navbar.js"></script>
  <script src="/app/js/guard.js"></script>
  <script src="/app/js/habitaciones.js"></script>
</body>
</html>
